{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Map.vue?059e","webpack:///./src/components/misc/LoadingAnimation.vue?f46c","webpack:///./src/views/EncounterLoop.vue?e69f","webpack:///./src/Main.vue?3a31","webpack:///./src/components/misc/HealthBar.vue?adf4","webpack:///./src/components/Log.vue?7687","webpack:///./src/styles/main.scss?d753","webpack:///./src/views/EncounterLoop.vue?9226","webpack:///./src/Main.vue?48a0","webpack:///./src/views/Party.vue?b5e2","webpack:///./src/views/Character.vue?572b","webpack:///./src/Main.vue","webpack:///./src/Game.vue","webpack:///./src/views/Character.vue","webpack:///./src/views/Character.vue?dd41","webpack:///./src/views/Party.vue","webpack:///./src/components/misc/HealthBar.vue","webpack:///./src/components/misc/HealthBar.vue?c292","webpack:///./src/views/Party.vue?d4da","webpack:///./src/views/Map.vue","webpack:///./src/components/map/layers/rooms/Render.vue","webpack:///./src/components/map/layers/rooms/RoomIDColors.js","webpack:///./src/components/map/layers/rooms/Render.vue?38da","webpack:///./src/components/map/layers/rooms/index.js","webpack:///./src/components/map/layers/walls/Render.vue","webpack:///./src/components/map/layers/walls/Render.vue?2fb4","webpack:///./src/components/map/layers/walls/index.js","webpack:///./src/components/map/layers/genericTile/Render.vue","webpack:///./src/components/map/layers/genericTile/Render.vue?61ac","webpack:///./src/components/map/layers/genericTile/index.js","webpack:///./src/components/map/layers/index.js","webpack:///./src/components/map/layers/walls/Defs.vue","webpack:///./src/components/map/layers/walls/Defs.vue?8632","webpack:///./src/components/map/layers/genericTile/Defs.vue","webpack:///./src/components/map/layers/genericTile/Defs.vue?8d1d","webpack:///./src/views/Map.vue?9c17","webpack:///./src/views/MonsterParty.vue","webpack:///./src/views/MonsterParty.vue?b144","webpack:///./src/views/EncounterFeed.vue","webpack:///./src/components/Log.vue","webpack:///./src/components/Log.vue?f034","webpack:///./src/views/EncounterFeed.vue?d448","webpack:///./src/views/EncounterLoop.vue","webpack:///./src/utils/async.js","webpack:///./src/utils/localStorage.js","webpack:///./src/game/EventBus.js","webpack:///./src/game/index.js","webpack:///./src/utils/object.js","webpack:///./src/game/events.js","webpack:///./src/game/modules/GameModule.js","webpack:///./src/game/modules/Characters.js","webpack:///./src/game/modules/Items.js","webpack:///./src/game/modules/Map.js","webpack:///./src/utils/rng.js","webpack:///./src/game/modules/Monsters.js","webpack:///./src/game/modules/Npcs.js","webpack:///./src/game/modules/Party.js","webpack:///./src/utils/alignment.js","webpack:///./src/game/modules/Encounter.js","webpack:///./src/components/interaction/Action.vue","webpack:///./src/components/interaction/Action.vue?5eb7","webpack:///./src/views/EncounterLoop.vue?bf0f","webpack:///./src/views/GameLog.vue","webpack:///./src/views/GameLog.vue?4912","webpack:///./src/views/Controls.vue","webpack:///./src/views/Controls.vue?0ab1","webpack:///./src/views/index.js","webpack:///./src/Game.vue?0cdc","webpack:///./src/components/misc/LoadingAnimation.vue","webpack:///./src/components/misc/LoadingAnimation.vue?46a3","webpack:///./src/Main.vue?16f0","webpack:///./src/store/modules/baseModule.js","webpack:///./src/store/modules/map.js","webpack:///./src/store/modules/party.js","webpack:///./src/store/modules/encounter.js","webpack:///./src/store/modules/index.js","webpack:///./src/store/index.js","webpack:///./src/utils/icons.js","webpack:///./src/components/interaction/KeyPress.vue","webpack:///./src/components/interaction/KeyPress.vue?1d15","webpack:///./src/components/interaction/KeyButton.vue","webpack:///./src/components/interaction/KeyButton.vue?5adb","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/components/interaction/KeyPress.vue?fa48","webpack:///./src/views/Controls.vue?bb7f","webpack:///./src/Game.vue?1d71","webpack:///./src/views/MonsterParty.vue?bcd0","webpack:///./src/components/interaction/Action.vue?3ec6"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_ctx","_createBlock","_component_LoadingAnimation","_createElementBlock","_Fragment","_createVNode","_component_router_view","_component_admin_nav","_component_Game","class","_createElementVNode","id","_hoisted_3","_component_GameLog","_component_Map","_component_Controls","_component_MonsterParty","_component_EncounterFeed","_component_EncounterLoop","_component_Party","_toDisplayString","JSON","stringify","undefined","computed","mapGetters","__exports__","_renderList","character","src","image","_component_HealthBar","current","currentHp","max","maxHp","style","$options","props","type","Number","required","remainingStyle","width","this","components","HealthBar","mapState","height","fill","widht","stroke","stroke-width","x","y","points","_hoisted_7","_hoisted_8","viewBox","_component_WallDefs","_component_TileDefs","_resolveDynamicComponent","RenderComponent","tools","_hoisted_4","transform","_hoisted_9","_hoisted_6","$props","roomCoords","row","roomId","colors","variations","hue","sat","lit","bounds","hueSatOffset","prctBtw","interpolate","min","color","roomIDs","Array","keys","interlacedIds","compact","flatten","zip","chunk","colorMap","reduce","roomIDColors","_hoisted_2","walls","column","xlink:href","tiles","1","2","3","tileId","effects","floors","rooms","_hoisted_1","script","_hoisted_5","_hoisted_10","_hoisted_11","_hoisted_12","visibleLayers","WallDefs","TileDefs","positionMapTransform","transformX","location","transformY","rotatePartyIndicatorTransform","facing","methods","layer","layers","monster","alive","hp","stats","monsterParty","currentEncounter","pluralize","_component_Log","items","text","index","Log","ref","onAnimationend","actor","_component_Action","action","currentAction","delay","ms","Promise","res","setTimeout","getLSD","lsd","localStorage","getItem","parse","setLSD","setItem","EventBus","eventName","listenerId","fn","beforeId","eventListeners","oldListener","find","off","newListener","findIndex","idToRemove","events","payload","listeners","map","Game","moduleKey","listener","_moduleListeners","_moduleUnlisteners","forEach","className","on","unlisten","emit","game","objectReduce","reducor","startValue","obj","path","fallback","split","isArray","prevObj","areFalse","event","classProto","fnName","descriptor","original","constructor","beforeChecks","some","args","listen","target","toLowerCase","addListener","mixin","unbinds","$bind","componentName","__file","match","unbind","beforeDestroy","Listener","GameSingleton","addModule","removeModule","GameModule","allowCache","axios","context","commit","self","initialize","update","Character","savedObj","assign","console","info","execute","act","Characters","characters","all","nameToFind","Items","mapExploredKey","Map","currentFloorIndex","currentFloor","currentFloorExplored","exploredData","party","z","set","save","weightedRoll","arrayOfOptions","unzip","weights","ids","totalWeights","roll","Math","random","counter","weight","FairRoll","rollId","history","options","maxHistory","filteredOptions","filter","includes","rolledId","updateHistory","statsRoll","statsObj","floor","randomGausian","statValue","round","ceil","rollGausian","rollArray","arr","shouldFight","encounter","Monster","baseMonster","monsters","spells","maxSpawn","alignments","count","loot","alignment","BaseMonsterParty","hostility","actions","aliveMonsters","k","remainingMonsters","dead","deadCount","v","summary","join","areIs","MonsterParty","partyId","monsterIds","monsterParties","OldMonsterParty","previousParty","load","Monsters","floorMonstersArr","floorMonsters","roomMonsters","fairSpawn","previous","Npcs","npcs","Party","selectedCharacter","isOutOfBounds","xD","yD","wallIndex","wallValue","delta","newFace","arg","charName","alignmentMatches","good","neutral","evil","feelingsToward","a","b","feels","strength","charisma","intelligence","partyFeelsTowardParty","partyA","partyB","average","dtf","ActiveEncounter","now","Date","cleared","minutesSinceSpawn","diff","spawned","respawn","spawn","reload","start","feelings","log","format","looted","addLog","textSummary","prevMonsters","lootSummary","areDead","behaviorSummary","monstersAreBlocking","monsterFlavorText","totalLoot","statsSummary","monsterstrength","partyStrength","randMonster","flavorText","flavor","string","Encounter","turnSpeed","previousLSDKey","unloadCurrentEncounter","loadEncounter","toObj","end","tick","tickInterval","setInterval","clearInterval","actionIntervals","newSpeed","stopTick","startTick","debug","actionTime","detail","String","regGroups","groups","emoji","base","Action","logReset","reset","$refs","progress","classList","remove","el","contains","$nextTick","animationDuration","add","mounted","_component_KeyButton","shortcutKey","onClick","_component_i_fa","icon","moveForward","move","turn","EncounterFeed","EncounterLoop","GameLog","Controls","LoadingAnimation","render","properties","namespaced","mutations","setState","state","newState","initialState","vuexActions","getters","store","Vuex","Store","loading","isDevEnv","process","setLoading","loadDataPromises","gameModules","loadData","then","dispatch","library","faArrowUp","faArrowLeft","faArrowRight","faArrowDown","_renderSlot","show","data-on","emits","toggle","hide","hit","e","$emit","keymage","beforeUnmount","_component_KeyPress","onHit","title","routes","component","router","createRouter","createWebHistory","app","createApp","Main","template","FontAwesomeIcon","KeyPress","KeyButton","eventMixin","use","mount"],"mappings":"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","file":"js/main.008beea3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"56d7\",\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Map.vue?vue&type=style&index=0&id=3b0d6f27&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LoadingAnimation.vue?vue&type=style&index=0&id=6c4db074&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./EncounterLoop.vue?vue&type=style&index=1&id=7d50cb12&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Main.vue?vue&type=style&index=0&id=0a1107f0&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./HealthBar.vue?vue&type=style&index=0&id=4758125f&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Log.vue?vue&type=style&index=0&id=96ca7492&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!./main.scss?vue&type=style&index=1&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./EncounterLoop.vue?vue&type=style&index=0&id=7d50cb12&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Main.vue?vue&type=style&index=2&id=0a1107f0&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Party.vue?vue&type=style&index=0&id=29a6e690&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Character.vue?vue&type=style&index=0&id=17e8e2bc&scoped=true&lang=css\"","<template>\n  <LoadingAnimation v-if=\"loading\" />\n  <template v-else-if=\"isDevEnv\">\n    <router-view />\n    <admin-nav />\n  </template>\n  <Game v-else />\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport Game from \"./Game\";\n\nimport LoadingAnimation from \"./components/misc/LoadingAnimation\";\n\nexport default {\n  computed: mapState([\"loading\", \"isDevEnv\"]),\n  components: {\n    LoadingAnimation,\n    Game,\n  },\n};\n</script>\n\n<style lang=\"scss\">\nbody {\n  font-family: \"Abel\", sans-serif;\n  color: #fff;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nblockquote {\n  font-family: \"Fondamento\", cursive;\n  color: $yellow;\n}\n\nbody {\n  margin: 0;\n  background: $base;\n  color: $text;\n}\n\na {\n  text-decoration: none;\n  color: $gold-dark;\n  &:hover {\n    color: $blue;\n  }\n}\n\nh1,\nh2,\nh3 {\n  color: $gold-light;\n}\n\n#app {\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n}\n</style>\n\n<style src=\"@/styles/main.scss\" lang=\"scss\"></style>\n\n<style lang=\"scss\">\n@import url(\"https://fonts.googleapis.com/css2?family=Abel&family=Fondamento:ital@0;1&display=swap\");\n</style>\n","<template>\n  <div class=\"game-layout d-flex\">\n    <div class=\"d-flex flex-column w-30\">\n      <div class=\"h-60\">\n        <h3>TODO -- character Sheet</h3>\n      </div>\n      <div class=\"h-40\">\n        <GameLog />\n      </div>\n    </div>\n    <div class=\"d-flex flex-column align-items-center w-40\">\n      <div id=\"map\">\n        <Map />\n      </div>\n      <Controls />\n    </div>\n    <div class=\"d-flex flex-column w-30\">\n      <div class=\"flex-2\">\n        <MonsterParty />\n      </div>\n      <div class=\"h-20 flex-1\">\n        <EncounterFeed />\n      </div>\n      <EncounterLoop />\n      <div class=\"flex-2\">\n        <Party />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport components from \"./views\";\nexport default {\n  components,\n};\n</script>\n\n<style scoped lang=\"scss\">\n.game-layout {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n\n  > * {\n    flex-grow: 1;\n  }\n}\n#map {\n  height: calc(100% - 3rem);\n  width: 100%;\n}\n</style>\n","<template>\r\n  <div class=\"character-view\">\r\n    <div class=\"d-flex align-items-center\">\r\n      <div class=\"picture\">picture</div>\r\n      <h1>{{ selectedCharacter.name }}</h1>\r\n    </div>\r\n    <pre\r\n      >{{ JSON.stringify(selectedCharacter, undefined, 2) }}\r\n    </pre>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  computed: mapGetters(\"party\", [\"selectedCharacter\"]),\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.picture {\r\n  width: 150px;\r\n  height: 150px;\r\n  background: #555;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>\r\n","import { render } from \"./Character.vue?vue&type=template&id=17e8e2bc&scoped=true\"\nimport script from \"./Character.vue?vue&type=script&lang=js\"\nexport * from \"./Character.vue?vue&type=script&lang=js\"\n\nimport \"./Character.vue?vue&type=style&index=0&id=17e8e2bc&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-17e8e2bc\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"PartyLayout\">\r\n    <div v-for=\"character in party\" :key=\"character.name\">\r\n      <img :src=\"`/assets/${character.image}.svg`\" />\r\n      <td>{{ character.name }}</td>\r\n      <HealthBar :current=\"character.currentHp\" :max=\"character.maxHp\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport HealthBar from \"@/components/misc/HealthBar\";\r\n\r\nexport default {\r\n  components: { HealthBar },\r\n  computed: mapState(\"party\", [\"party\"]),\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.PartyLayout {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  > * {\r\n    width: 50%;\r\n    height: 50%;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  img {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n  }\r\n}\r\n</style>\r\n","<template>\n  <div class=\"HealthBar\">\n    <div class=\"RemainingHp\" :style=\"remainingStyle\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    max: {\n      type: Number,\n      required: true,\n    },\n    current: {\n      type: Number,\n      required: true,\n    },\n  },\n  computed: {\n    remainingStyle() {\n      return {\n        width: (this.current / this.max) * 100 + \"%\",\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.HealthBar {\n  height: 4px;\n  background: #800;\n  position: relative;\n\n  .RemainingHp {\n    position: absolute;\n    left: 0;\n    height: 4px;\n    background: #080;\n  }\n}\n</style>\n","import { render } from \"./HealthBar.vue?vue&type=template&id=4758125f&scoped=true\"\nimport script from \"./HealthBar.vue?vue&type=script&lang=js\"\nexport * from \"./HealthBar.vue?vue&type=script&lang=js\"\n\nimport \"./HealthBar.vue?vue&type=style&index=0&id=4758125f&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4758125f\"]])\n\nexport default __exports__","import { render } from \"./Party.vue?vue&type=template&id=29a6e690&scoped=true\"\nimport script from \"./Party.vue?vue&type=script&lang=js\"\nexport * from \"./Party.vue?vue&type=script&lang=js\"\n\nimport \"./Party.vue?vue&type=style&index=0&id=29a6e690&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-29a6e690\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"mapContainer\">\r\n    <div id=\"mapLiner\">\r\n      <svg\r\n        id=\"map\"\r\n        :width=\"`600px`\"\r\n        :height=\"`600px`\"\r\n        :viewBox=\"`0 0 600 600`\"\r\n        :style=\"positionMapTransform\"\r\n      >\r\n        <defs>\r\n          <WallDefs />\r\n          <TileDefs />\r\n        </defs>\r\n        <g id=\"background\">\r\n          <rect width=\"100%\" height=\"100%\" fill=\"#000\" />\r\n          <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\" />\r\n          <rect\r\n            widht=\"100%\"\r\n            height=\"100%\"\r\n            fill=\"transparent\"\r\n            stroke=\"#fff\"\r\n            stroke-width=\"1.5px\"\r\n          />\r\n        </g>\r\n        <template v-for=\"id in visibleLayers\" :key=\"`layer-${id}`\">\r\n          <component\r\n            :is=\"layer(id).RenderComponent\"\r\n            :id=\"id\"\r\n            :tools=\"layer(id).tools\"\r\n          />\r\n        </template>\r\n        <rect\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          stroke=\"#fff\"\r\n          stroke-width=\"1px\"\r\n          fill=\"transparent\"\r\n        />\r\n        <svg\r\n          :x=\"location.x * 15\"\r\n          :y=\"location.y * 15\"\r\n          viewBox=\"0 0 15 15\"\r\n          width=\"15px\"\r\n          height=\"15px\"\r\n        >\r\n          <g :transform=\"rotatePartyIndicatorTransform\">\r\n            <rect x=\"5px\" y=\"7px\" width=\"5px\" height=\"6px\" fill=\"#aaf\" />\r\n            <polygon points=\"2,7 13,7 7.5,2\" fill=\"#aaf\" />\r\n          </g>\r\n        </svg>\r\n      </svg>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\n// import keymage from \"keymage\";\r\n\r\nimport layers from \"@/components/map/layers\";\r\nimport WallDefs from \"@/components/map/layers/walls/Defs\";\r\nimport TileDefs from \"@/components/map/layers/genericTile/Defs\";\r\n\r\nconst visibleLayers = [\"walls\", \"floors\"];\r\n\r\nexport default {\r\n  components: { WallDefs, TileDefs },\r\n  data: () => ({\r\n    visibleLayers,\r\n  }),\r\n  computed: {\r\n    ...mapState(\"map\", [\"width\", \"height\"]),\r\n    ...mapState(\"party\", [\"location\", \"facing\"]),\r\n    positionMapTransform() {\r\n      const transformX = (this.location.x - 20) * -15 - 7;\r\n      const transformY = (this.location.y - 20) * -15 - 7;\r\n      return {\r\n        transform: `translate(${transformX}px, ${transformY}px)`,\r\n      };\r\n    },\r\n    rotatePartyIndicatorTransform() {\r\n      return `rotate(${this.facing * 90} 7.5 7.5)`;\r\n    },\r\n  },\r\n  methods: {\r\n    layer(id) {\r\n      return layers[id];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#mapContainer {\r\n  position: relative;\r\n  overflow: hidden;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n#mapLiner {\r\n  width: 600px;\r\n  height: 600px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n#map {\r\n  overflow: visible;\r\n}\r\n</style>\r\n","<template>\n  <g :id=\"id\">\n    <g v-for=\"(row, y) in currentFloor.roomCoords\" :key=\"y\">\n      <template v-for=\"(roomId, x) in row\" :key=\"`${y},${x}`\">\n        <rect\n          width=\"15px\"\n          height=\"15px\"\n          v-if=\"roomId\"\n          :x=\"x * 15\"\n          :y=\"y * 15\"\n          :fill=\"roomIDColors[roomId]\"\n        />\n      </template>\n    </g>\n  </g>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport roomIDColors from \"./RoomIDColors\";\n\nexport default {\n  props: [\"id\", \"tools\"],\n  data: () => ({\n    roomIDColors,\n  }),\n  computed: {\n    ...mapState(\"map\", [\"currentFloor\"]),\n  },\n};\n</script>\n","import compact from \"lodash/compact\";\nimport flatten from \"lodash/flatten\";\nimport zip from \"lodash/zip\";\nimport chunk from \"lodash/chunk\";\n\nconst colors = 800;\nconst variations = {\n  hue: 30, // not used right now.\n  sat: 24, // <- Play around\n  lit: 24, // <- Play around\n};\nconst bounds = {\n  hue: [0, 360],\n  sat: [40, 100], // <- Play Around\n  lit: [25, 75], // <- Play Around\n};\nconst hueSatOffset = 0; // <- Play Around\n\nfunction prctBtw(i, key) {\n  if (key == \"hue\") {\n    return i / colors;\n  } else {\n    return (i % variations[key]) / variations[key];\n  }\n}\n\nfunction interpolate(key, prctBtw) {\n  const [min, max] = bounds[key];\n  return min + (max - min) * prctBtw;\n}\n\nfunction color(i) {\n  const hue = interpolate(\"hue\", prctBtw(i, \"hue\"));\n  const sat = interpolate(\"sat\", prctBtw(i, \"sat\"));\n  const lit = interpolate(\"lit\", prctBtw(i + hueSatOffset, \"lit\"));\n  return `hsl(${hue}, ${sat}%, ${lit}%)`;\n}\n\n// used when computing new IDs for room objects\nexport const roomIDs = [...Array(colors).keys()];\nconst interlacedIds = compact(flatten(zip(...chunk(roomIDs, variations.hue))));\nconst colorMap = interlacedIds.reduce(\n  (r, id, i) => ({ ...r, [i]: color(id) }),\n  {}\n);\n\nexport default colorMap;\n","import { render } from \"./Render.vue?vue&type=template&id=ba53fc20\"\nimport script from \"./Render.vue?vue&type=script&lang=js\"\nexport * from \"./Render.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const tools = [\"eraser\", \"add\", \"edit\", \"select\"];\nimport RenderComponent from \"./Render\";\n\nexport default {\n  id: \"rooms\",\n  tools,\n  RenderComponent,\n};\n","<template>\n  <g :id=\"id\">\n    <rect\n      x=\"0\"\n      y=\"0\"\n      width=\"600\"\n      height=\"600\"\n      stroke=\"#fff\"\n      fill=\"transparent\"\n    />\n    <g v-for=\"(row, y) in currentFloor.walls\" :key=\"y\">\n      <template v-for=\"(column, x) in row\" :key=\"x\">\n        <g v-if=\"column && (column[0] || column[1])\">\n          <use\n            width=\"15px\"\n            height=\"15px\"\n            v-if=\"column[0]\"\n            :x=\"x * 15\"\n            :y=\"y * 15\"\n            :xlink:href=\"`#${tools[column[0]]}`\"\n            :transform=\"`rotate(-90 ${x * 15 + 8} ${y * 15 + 8}) translate(8)`\"\n          />\n          <use\n            width=\"15px\"\n            height=\"15px\"\n            v-if=\"column[1]\"\n            :x=\"x * 15\"\n            :y=\"y * 15\"\n            :xlink:href=\"`#${tools[column[1]]}`\"\n            transform=\"translate(-7)\"\n          />\n        </g>\n      </template>\n    </g>\n  </g>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  props: [\"id\", \"tools\"],\n  data: () => ({\n    tiles: {\n      1: \"wall\",\n      2: \"door\",\n      3: \"hiddenDoor\",\n    },\n  }),\n  computed: {\n    ...mapState(\"map\", [\"currentFloor\"]),\n  },\n};\n</script>\n","import { render } from \"./Render.vue?vue&type=template&id=e0c0cd86\"\nimport script from \"./Render.vue?vue&type=script&lang=js\"\nexport * from \"./Render.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const tools = [\"eraser\", \"wall\", \"door\", \"hiddenDoor\"];\nimport RenderComponent from \"./Render\";\n\nexport default {\n  id: \"walls\",\n  tools,\n  RenderComponent,\n};\n","<template>\n  <g :id=\"id\">\n    <g v-for=\"(row, y) in currentFloor[id]\" :key=\"y\">\n      <template v-for=\"(tileId, x) in row\" :key=\"`${y},${x}`\">\n        <use\n          width=\"15px\"\n          height=\"15px\"\n          v-if=\"tileId\"\n          :x=\"x * 15\"\n          :y=\"y * 15\"\n          :xlink:href=\"`#${tools[tileId]}`\"\n        />\n      </template>\n    </g>\n  </g>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  props: [\"id\", \"tools\"],\n  computed: {\n    ...mapState(\"map\", [\"currentFloor\"]),\n  },\n};\n</script>\n","import { render } from \"./Render.vue?vue&type=template&id=41cf3851\"\nimport script from \"./Render.vue?vue&type=script&lang=js\"\nexport * from \"./Render.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import RenderComponent from \"./Render\";\n\nexport const effects = {\n  id: \"effects\",\n  tools: [\n    \"eraser\",\n    \"fog\",\n    \"puddle\",\n    \"light0\",\n    \"light1\",\n    \"light2\",\n    \"light3\",\n    \"light4\",\n    \"light5\",\n  ],\n  RenderComponent,\n};\n\nexport const floors = {\n  id: \"floors\",\n  tools: [\"eraser\", \"stairsUp\", \"stairsDown\", \"noFloor\", \"pitTrap\"],\n  RenderComponent,\n};\n","import rooms from \"./rooms\";\nimport walls from \"./walls\";\nimport { effects, floors } from \"./genericTile\";\n\n// layers by key\nexport default { walls, rooms, effects, floors };\n\n// layers in the order they are presented in the sidebar\nexport const sidebarLayers = [walls, rooms, effects, floors];\n\n// layers keys in the order they are rendered\nexport const renderOrder = [\"rooms\", \"effects\", \"floors\", \"walls\"];\n\n// empty floor with empty layers\nexport const emptyFloor = {\n  floors: [[]],\n  effects: [[]],\n  walls: [[[]]],\n  roomCoords: [[]],\n  rooms: {},\n};\n","<template>\n  <symbol id=\"wall\" viewBox=\"0 0 15 15\">\n    <rect width=\"1px\" height=\"15px\" fill=\"#fff\" x=\"7\" />\n  </symbol>\n  <symbol id=\"door\" viewBox=\"0 0 15 15\">\n    <rect width=\"1px\" height=\"6px\" fill=\"#fff\" x=\"7\" />\n    <rect width=\"1px\" height=\"6px\" fill=\"#fff\" x=\"7\" y=\"9\" />\n    <rect width=\"5px\" height=\"1px\" fill=\"#fff\" x=\"5\" y=\"5\" />\n    <rect width=\"5px\" height=\"1px\" fill=\"#fff\" x=\"5\" y=\"9\" />\n  </symbol>\n  <symbol id=\"hiddenDoor\" viewBox=\"0 0 15 15\">\n    <rect width=\"1px\" height=\"15px\" fill=\"#fff\" x=\"7\" />\n    <rect width=\"3px\" height=\"5px\" fill=\"#fff\" x=\"6\" y=\"5\" />\n  </symbol>\n</template>\n","import { render } from \"./Defs.vue?vue&type=template&id=cd977df6\"\nconst script = {}\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <symbol id=\"stairsUp\" viewBox=\"0 0 15 15\">\n    <text y=\"15\" x=\"0\" fill=\"#F00\">S</text>\n    <path d=\"M 12 14 L 12 5\" fill=\"none\" stroke=\"#F00\" stroke-width=\"1\" />\n    <path d=\"M 9 5 L 15 5 12 1 Z\" fill=\"#F00\" />\n  </symbol>\n  <symbol id=\"stairsDown\" viewBox=\"0 0 15 15\">\n    <text y=\"15\" x=\"0\" fill=\"#F00\">S</text>\n    <path d=\"M 12 10 L 12 1\" fill=\"none\" stroke=\"#F00\" stroke-width=\"1\" />\n    <path d=\"M 9 10 L 15 10 12 14 Z\" fill=\"#F00\" />\n  </symbol>\n  <symbol id=\"noFloor\" viewBox=\"0 0 15 15\">\n    <text y=\"15\" x=\"0\" fill=\"#F00\">N</text>\n  </symbol>\n  <symbol id=\"pitTrap\" viewBox=\"0 0 15 15\">\n    <rect\n      x=\"1.5\"\n      y=\"1.5\"\n      width=\"13px\"\n      height=\"13px\"\n      stroke=\"#fff\"\n      fill=\"transparent\"\n    />\n    <rect\n      x=\"7\"\n      y=\"-2px\"\n      width=\"1px\"\n      height=\"19px\"\n      fill=\"#fff\"\n      transform=\"rotate(45, 7.5, 7.52)\"\n    />\n    <rect\n      x=\"7\"\n      y=\"-2px\"\n      width=\"1px\"\n      height=\"19px\"\n      fill=\"#fff\"\n      transform=\"rotate(-45, 7.5, 7.52)\"\n    />\n  </symbol>\n  <symbol id=\"fog\" viewBox=\"0 0 15 15\">\n    <rect width=\"15px\" height=\"15px\" fill=\"#aaa\" />\n  </symbol>\n  <symbol id=\"puddle\" viewBox=\"0 0 15 15\">\n    <rect width=\"15px\" height=\"15px\" fill=\"#88f\" />\n  </symbol>\n  <symbol id=\"light0\" viewBox=\"0 0 15 15\">\n    <rect width=\"3px\" height=\"3px\" fill=\"#555\" />\n  </symbol>\n  <symbol id=\"light1\" viewBox=\"0 0 15 15\">\n    <rect width=\"3px\" height=\"3px\" fill=\"#777\" />\n  </symbol>\n  <symbol id=\"light2\" viewBox=\"0 0 15 15\">\n    <rect width=\"3px\" height=\"3px\" fill=\"#999\" />\n  </symbol>\n  <symbol id=\"light3\" viewBox=\"0 0 15 15\">\n    <rect width=\"3px\" height=\"3px\" fill=\"#aaa\" />\n  </symbol>\n  <symbol id=\"light4\" viewBox=\"0 0 15 15\">\n    <rect width=\"3px\" height=\"3px\" fill=\"#ccc\" />\n  </symbol>\n  <symbol id=\"light5\" viewBox=\"0 0 15 15\">\n    <rect width=\"3px\" height=\"3px\" fill=\"#eee\" />\n  </symbol>\n</template>\n","import { render } from \"./Defs.vue?vue&type=template&id=67c46f90\"\nconst script = {}\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Map.vue?vue&type=template&id=3b0d6f27&scoped=true\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport \"./Map.vue?vue&type=style&index=0&id=3b0d6f27&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b0d6f27\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"encounter\">\r\n    <div\r\n      class=\"monsterGroup\"\r\n      v-for=\"(monster, i) in monsterParty\"\r\n      :key=\"`monster-${i}`\"\r\n    >\r\n      <div class=\"liner\">\r\n        <img\r\n          v-for=\"n in monster.alive\"\r\n          :key=\"`monster-${i}-${n}`\"\r\n          :src=\"`/assets/${monster.name}.svg`\"\r\n        />\r\n      </div>\r\n      <HealthBar :current=\"monster.hp\" :max=\"monster.stats.hp\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport get from \"lodash/get\";\r\nimport pluralize from \"pluralize\";\r\nimport HealthBar from \"@/components/misc/HealthBar\";\r\n\r\nexport default {\r\n  components: { HealthBar },\r\n  computed: {\r\n    ...mapState(\"encounter\", [\"currentEncounter\"]),\r\n    monsterParty() {\r\n      return get(this.currentEncounter, \"monsters.party\", []);\r\n    },\r\n  },\r\n  methods: {\r\n    pluralize,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.encounter {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap-reverse;\r\n}\r\n.monsterGroup {\r\n  width: 50%;\r\n  height: 50%;\r\n  padding-bottom: 20px;\r\n  padding-right: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: space-between;\r\n  justify-content: center;\r\n  box-sizing: border-box;\r\n\r\n  .liner {\r\n    position: relative;\r\n    justify-self: center;\r\n  }\r\n\r\n  img {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n  }\r\n\r\n  img:first-child {\r\n    filter: drop-shadow(3px 3px 2px rgba(0, 0, 0, 0.7));\r\n    position: relative;\r\n    z-index: 2;\r\n  }\r\n\r\n  img:not(:first-child) {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    transform: scale(0.4) translate(80%, 80%);\r\n    z-index: 1;\r\n  }\r\n\r\n  $max-group-size: 10;\r\n  @for $i from 2 through $max-group-size {\r\n    img:nth-child(#{$i}) {\r\n      margin-top: $i * 4px;\r\n      margin-left: $i * 4px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./MonsterParty.vue?vue&type=template&id=9cd1eefa\"\nimport script from \"./MonsterParty.vue?vue&type=script&lang=js\"\nexport * from \"./MonsterParty.vue?vue&type=script&lang=js\"\n\nimport \"./MonsterParty.vue?vue&type=style&index=0&id=9cd1eefa&lang=scss\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <Log :items=\"log\" />\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport Log from \"@/components/Log\";\r\n\r\nexport default {\r\n  components: { Log },\r\n  computed: mapState(\"encounter\", [\"log\"]),\r\n};\r\n</script>\r\n","<template>\n  <div class=\"log\">\n    <div v-for=\"(text, index) in items\" :key=\"index\">\n      {{ text }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"items\"],\n};\n</script>\n\n<style scoped>\n.log {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  background: #eee;\n  padding: 2px;\n  height: 100%;\n  box-sizing: border-box;\n  color: #333;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n}\n</style>\n","import { render } from \"./Log.vue?vue&type=template&id=96ca7492&scoped=true\"\nimport script from \"./Log.vue?vue&type=script&lang=js\"\nexport * from \"./Log.vue?vue&type=script&lang=js\"\n\nimport \"./Log.vue?vue&type=style&index=0&id=96ca7492&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-96ca7492\"]])\n\nexport default __exports__","import { render } from \"./EncounterFeed.vue?vue&type=template&id=ca2f57e4\"\nimport script from \"./EncounterFeed.vue?vue&type=script&lang=js\"\nexport * from \"./EncounterFeed.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"EncounterLoop\">\n    <div id=\"progress\" ref=\"progress\" @animationend=\"logReset\"></div>\n    <div class=\"actions\">\n      <div\n        class=\"action\"\n        v-for=\"({ actor }, index) in actions\"\n        :key=\"`action-${index}`\"\n      >\n        <img :src=\"`/assets/${actor.image}.svg`\" />\n        <Action :action=\"actor.currentAction\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { delay } from \"@/utils/async\";\nimport { encounter } from \"@/game/modules\";\nimport Action from \"@/components/interaction/Action\";\n\nexport default {\n  name: \"EncounterLoop\",\n  components: { Action },\n  computed: {\n    ...mapState(\"encounter\", [\"turnSpeed\", \"actions\"]),\n  },\n  methods: {\n    logReset() {\n      console.debug(\"EncounterLoop.logReset - Encounter.tick logic is slow\");\n      this.reset();\n    },\n    reset() {\n      this.$refs.progress.classList.remove(\"running\");\n    },\n    async start() {\n      const el = this.$refs.progress;\n      if (el.classList.contains(\"running\")) {\n        this.reset();\n        await this.$nextTick();\n        await delay(10);\n      }\n      el.style.animationDuration = `${this.turnSpeed}ms`;\n      el.classList.add(\"running\");\n    },\n  },\n  mounted() {\n    if (encounter.tickInterval) this.start();\n    this.$bind(\"before:Encounter.tick\", this.start);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.EncounterLoop {\n  height: 40px;\n  position: relative;\n}\n</style>\n\n<style lang=\"scss\">\n@keyframes progress-bar-fill {\n  from {\n    width: 0%;\n  }\n  to {\n    width: 100%;\n  }\n}\n#progress {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  animation-timing-function: linear;\n  background: #000;\n\n  &.running {\n    animation-name: progress-bar-fill;\n  }\n}\n\n.actions {\n  display: flex;\n  justify-content: space-around;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n\n  .action {\n    position: relative;\n    img {\n      max-height: 100%;\n      max-width: 40px;\n    }\n    .Action {\n      position: absolute;\n      left: 50%;\n      bottom: 0;\n      transform: translateX(-50%);\n    }\n  }\n}\n</style>\n","export function delay(ms) {\n  return new Promise((res) => {\n    setTimeout(res, ms);\n  });\n}\n","export function getLSD(key) {\n  const lsd = localStorage.getItem(key);\n  if (lsd) return JSON.parse(lsd);\n}\n\nexport function setLSD(key, data) {\n  if (data) localStorage.setItem(key, JSON.stringify(data));\n}\n","export default class EventBus {\n  eventListeners = {};\n\n  /**\n   * @param  {string} eventName\n   * @param  {string} listenerId\n   * @param  {function} fn\n   * @param  {string} beforeId=null\n   */\n  on(eventName, listenerId, fn, beforeId = null) {\n    if (!this.eventListeners[eventName]) {\n      this.eventListeners[eventName] = [];\n    }\n\n    // do not allow listeners with duplicate IDs\n    const oldListener = this.eventListeners[eventName].find(\n      ({ id }) => listenerId === id\n    );\n    if (oldListener) {\n      this.off(eventName, listenerId);\n    }\n\n    const newListener = { id: listenerId, fn };\n    if (beforeId) {\n      const index = this.eventListeners[eventName].findIndex(\n        ({ id }) => id === beforeId\n      );\n      if (index >= 0) {\n        this.eventListeners[eventName].splice(index - 1, 0, newListener);\n        return;\n      }\n    }\n    this.eventListeners[eventName].push(newListener);\n  }\n\n  off(eventName, idToRemove) {\n    if (!this.eventListeners[eventName]) return;\n    const events = this.eventListeners[eventName];\n    const index = events.findIndex(({ id }) => id === idToRemove);\n    events.splice(index, 1);\n  }\n\n  emit(eventName, payload = {}) {\n    const listeners = this.eventListeners[eventName];\n    if (process.env.NODE_ENV !== \"production\")\n      console.debug([\n        eventName,\n        listeners && listeners.length ? listeners : \"no listeners\",\n      ]);\n    if (!listeners) return [];\n    return listeners.map(({ fn }) => fn(payload));\n  }\n}\n","import EventBus from \"./EventBus\";\n\nexport class Game extends EventBus {\n  _moduleListeners = {};\n  _moduleUnlisteners = {};\n  _moduleKeys = [];\n\n  addListener(moduleKey, listener) {\n    if (!this._moduleListeners[moduleKey])\n      this._moduleListeners[moduleKey] = [];\n\n    this._moduleListeners[moduleKey].push(listener);\n  }\n\n  addModule(module) {\n    const moduleKey = module.moduleKey;\n    this[moduleKey] = module;\n\n    // bind events with instance\n    const events = this._moduleListeners[moduleKey];\n    this._moduleUnlisteners[moduleKey] = [];\n    if (!events) return;\n\n    events.forEach(({ className, eventName, fn }) => {\n      const listenerId = `${className}.${fn.name}`;\n      this.on(eventName, listenerId, fn.bind(module));\n      this._moduleUnlisteners[moduleKey].push(() =>\n        this.off(eventName, listenerId)\n      );\n    });\n  }\n\n  removeModule(module) {\n    const moduleKey = module.moduleKey;\n    this._moduleUnlisteners[moduleKey].forEach((unlisten) => unlisten());\n    delete this._moduleUnlisteners[moduleKey];\n    delete this[module.moduleKey];\n  }\n\n  initialize() {\n    // emit loaded\n    this.emit(\"Game.loaded\");\n  }\n}\n\nconst game = new Game();\nexport default game;\n","/**\n * @param  {Object} object\n * @param  {function} reducor\n * @param  {any} startValue\n * @example\n * // returns 3\n * objectReduce({yes: 2, no: 3}, (p, v) => p + v, 0)\n * @returns {any} startValue after mutations by reducor\n */\nexport function objectReduce(object, reducor, startValue) {\n  return Object.keys(object).reduce(\n    (result, key) => reducor(result, object[key], key),\n    startValue\n  );\n}\n\n/**\n * @param  {Object} object\n * @param  {Array|String} path\n * @param  {any} fallback\n */\nexport function get(obj, path, fallback = undefined) {\n  if (typeof path === \"string\") {\n    path = path.split(\".\");\n  }\n\n  if (!Array.isArray(path)) {\n    throw \"object.js:get requires a string or array for <path>\";\n  }\n\n  const result = path.reduce((prevObj, key) => prevObj && prevObj[key], obj);\n  // If found value is undefined return default value; otherwise return the value\n  return result === undefined ? fallback : result;\n}\n","import game from \"@/game\";\nimport { get } from \"@/utils/object\";\n\nconst areFalse = (result) => result === false;\n\nexport function event(classProto, fnName, descriptor) {\n  const original = descriptor.value;\n  const className = classProto.constructor.name;\n\n  descriptor.value = function (...args) {\n    const beforeChecks = game.emit(`before:${className}.${fnName}`);\n    if (beforeChecks.some(areFalse)) return;\n    original.apply(this, args);\n    game.emit(`after:${className}.${fnName}`);\n  };\n}\n\n// can only be used in GameSingletons\nexport function listen(eventName) {\n  return (target, fnName, descriptor) => {\n    const className = target.constructor.name;\n    const moduleKey = className.toLowerCase();\n\n    const fn = descriptor.value;\n    if (typeof eventName === \"string\")\n      game.addListener(moduleKey, { className, eventName, fn });\n\n    if (Array.isArray(eventName))\n      eventName.forEach((eventName) => {\n        game.addListener(moduleKey, { className, eventName, fn });\n      });\n  };\n}\n\nexport const mixin = {\n  data: () => ({\n    unbinds: [],\n  }),\n  methods: {\n    $bind(eventName, fn) {\n      const componentName = this.$options.name;\n      if (!componentName)\n        throw `You must define component name in ${this.$options.__file}`;\n      const fnName = fn.name.match(/[^\\s]+$/)[0];\n      const listenerId = `${componentName}.${fnName}`;\n      game.on(eventName, listenerId, fn);\n      const unbind = () => game.off(eventName, listenerId);\n      this.unbinds.push(unbind);\n      return unbind;\n    },\n  },\n  beforeDestroy() {\n    this.unbinds.forEach((unbind) => unbind());\n  },\n};\n\nexport class Listener {\n  unbinds = [];\n\n  bind(eventName, fn) {\n    const listenerId = `${this.constructor.name}.${fn.name}`;\n    game.on(eventName, listenerId, fn.bind(this));\n    const unbind = () => game.off(eventName, listenerId);\n    this.unbinds.push(unbind);\n    return unbind;\n  }\n\n  unbind() {\n    this.unbinds.forEach((unbind) => unbind());\n  }\n}\n\n// a game.[module]\nexport class GameSingleton extends Listener {\n  constructor() {\n    super();\n    this.moduleKey = this.constructor.name.toLowerCase();\n    game.addModule(this);\n  }\n\n  destroy() {\n    game.removeModule(this);\n  }\n\n  get(...args) {\n    return get(this, ...args);\n  }\n}\n","import axios from \"axios\";\nimport { getLSD, setLSD } from \"@/utils/localStorage\";\nimport { GameSingleton } from \"@/game/events\";\n\n// A game.[module] singleton with .data and a vuex store\nexport default class GameModule extends GameSingleton {\n  data = {};\n\n  async loadData(allowCache = true) {\n    const lsd = getLSD(this.moduleKey);\n    if (allowCache && lsd) this.data = lsd;\n    else {\n      const { data } = await axios.get(`/data/${this.moduleKey}.json`);\n      this.data = data;\n    }\n  }\n\n  // TODO debounce by game loop duration, and queue all changes during game loop for single update\n  update(value) {\n    if (typeof value === \"string\") {\n      this.context.commit(\"setState\", { [value]: this.data[value] });\n    } else if (typeof value === \"object\") {\n      this.context.commit(\"setState\", value);\n    } else if (!value) {\n      this.context.commit(\"setState\", this.data);\n    }\n  }\n\n  save() {\n    setLSD(this.moduleKey, this.data);\n  }\n\n  get vuexActions() {\n    const self = this;\n    return {\n      initialize(context) {\n        self.context = context;\n        self.update();\n      },\n    };\n  }\n}\n","import GameModule from \"./GameModule\";\n\nclass Character {\n  constructor(savedObj) {\n    Object.assign(this, savedObj);\n  }\n\n  act() {\n    console.info(`${this.name} acted!`);\n    // TODO split out to fight/cast/etc\n  }\n\n  get actions() {\n    // TODO multiple swings generate multiple actions\n    return [\n      {\n        actor: this,\n        execute: this.act.bind(this),\n      },\n    ];\n  }\n}\n\nexport class Characters extends GameModule {\n  all = {};\n\n  charactersInCurrentRoom() {\n    // search this.data for caracters in roomID\n    return [];\n  }\n\n  async loadData() {\n    await super.loadData();\n\n    this.data.characters.forEach((obj) => {\n      this.all[obj.name] = new Character(obj);\n    });\n  }\n\n  find(nameToFind) {\n    return this.all[nameToFind];\n  }\n}\n\nexport const characters = new Characters();\n","import GameModule from \"./GameModule\";\n\nexport class Items extends GameModule {}\n\nexport const items = new Items();\n","import set from \"lodash/set\";\nimport GameModule from \"./GameModule\";\nimport { party } from \".\";\nimport { getLSD, setLSD } from \"@/utils/localStorage\";\n\nconst mapExploredKey = \"Map.explored\";\n\nexport class Map extends GameModule {\n  initialState = {\n    currentFloorIndex: 0,\n    currentFloor: {},\n    currentFloorExplored: [],\n    width: 40,\n    height: 40,\n  };\n  width = 40;\n  height = 40;\n\n  constructor() {\n    super();\n    this.exploredData = getLSD(mapExploredKey) || [];\n  }\n\n  update() {\n    const currentFloorIndex = party.data.location.z;\n    super.update({\n      currentFloorIndex,\n      currentFloor: this.data.floors[currentFloorIndex],\n      currentFloorExplored: this.exploredData[currentFloorIndex],\n    });\n  }\n\n  setExplored(z, y, x) {\n    set(this.exploredData, [z, y, x], true);\n    const currentFloorIndex = party.data.location.z;\n    super.update({\n      currentFloorExplored: this.exploredData[currentFloorIndex],\n    });\n    this.save();\n  }\n\n  save() {\n    super.save();\n    setLSD(mapExploredKey, this.exploredData);\n  }\n\n  isOutOfBounds({ x, y, z }) {\n    if (z < 0 || y < 0 || x < 0) return true; // no negative indexes\n    // check if floor is deeper than map goes\n    if (z > this.data.floors.length - 1) return true;\n    // check if coords are larger than map\n    if (y > this.height - 1 || x > this.width - 1) return true;\n    return false;\n  }\n}\n\nexport const map = new Map();\n","import unzip from \"lodash/unzip\";\nimport { getLSD, setLSD } from \"./localStorage\";\nimport { objectReduce } from \"./object\";\n\n/**\n * @param  {[[weight: number, id: string]]} arrayOfOptions\n * @example\n * // returns \"a\" twice as often as \"b\"\n * weightedRoll([[2, \"a\"], [1, \"b\"]])\n * @returns {string} id of random item from the array\n */\nexport function weightedRoll(arrayOfOptions) {\n  const [weights, ids] = unzip(arrayOfOptions);\n  const totalWeights = weights.reduce((r, i) => r + i, 0);\n  const roll = Math.random() * totalWeights;\n  let counter = 0;\n  for (const [weight, id] of arrayOfOptions) {\n    if (counter + weight > roll) return id;\n    counter += weight;\n  }\n  // if we make it this far, just return the last item\n  return ids[ids.length - 1];\n}\n\nexport class FairRoll {\n  id = \"\";\n  history = [];\n  maxHistory = 5;\n\n  /**\n   * @param  {string} rollId The ID used to store/retrieve localStorage data\n   */\n  constructor(rollId) {\n    this.id = `FairRoll.${rollId}`;\n    this.history = getLSD(this.id) || [];\n  }\n\n  /**\n   * @param  {[[weight: number, id: string]]} options\n   */\n  roll(options) {\n    // update maxHistory in case the array changed since last roll\n    this.maxHistory = options.length / 3;\n\n    // if there are fewer than 5 items, just do the weighted roll.\n    if (options.length < 5) return weightedRoll(options);\n\n    // filter options by history\n    const filteredOptions = options.filter(\n      ([_, id]) => !this.history.includes(id) // eslint-disable-line\n    );\n    const rolledId = weightedRoll(filteredOptions);\n    this.updateHistory(rolledId);\n    return rolledId;\n  }\n\n  updateHistory(id) {\n    this.history.push(id);\n    if (this.history.length > this.maxHistory) {\n      this.history.splice(0, this.history.length - this.maxHistory);\n    }\n    setLSD(this.id, this.history);\n  }\n}\n\nexport function statsRoll(statsObj, floor) {\n  const roll = randomGausian();\n  return objectReduce(\n    statsObj,\n    (result, value, key) => {\n      const statValue = value / 2 + value * roll;\n      result[key] = Math.round(statValue * Math.max(1, floor));\n      return result;\n    },\n    {}\n  );\n}\n\n// min = 1\nexport function roll(max) {\n  return Math.ceil(max * Math.random());\n}\n\nexport function rollBetween(min, max) {\n  return Math.round(Math.random() * (max - min) + min);\n}\n\nexport function randomGausian() {\n  return (Math.random() + Math.random() + Math.random()) / 3;\n}\n\n// min = 1\nexport function rollGausian(max) {\n  return Math.ceil(randomGausian() * max);\n}\n\nexport function rollArray(arr) {\n  // because arrays are 0 indexed, use Math.floor\n  // this returns 0 - (arr.length-1),\n  // therefore, randomly picks one of the items of the array\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport function rollObject(obj) {\n  const key = rollArray(Object.keys(obj));\n  return obj[key];\n}\n","import get from \"lodash/get\";\nimport zip from \"lodash/zip\";\nimport fill from \"lodash/fill\";\nimport { map } from \".\";\nimport GameModule from \"./GameModule\";\nimport { rollGausian, statsRoll, rollArray, FairRoll } from \"@/utils/rng\";\nimport { objectReduce } from \"@/utils/object\";\nimport pluralize from \"pluralize\";\nimport { encounter } from \"@/game/modules\";\n\nconst shouldFight = () => encounter.get(\"current.hostility\") > 0.2;\n\nexport class Monster {\n  constructor(id) {\n    this.baseMonster = monsters.data.monsters.find(({ name }) => name === id);\n    if (!this.baseMonster) throw `monsters[name: ${id}] not found`;\n    this.image = this.baseMonster.name;\n    const { name, spells } = this.baseMonster;\n    this.name = name;\n    this.spells = spells;\n  }\n\n  initialize(floor) {\n    const { stats, maxSpawn, alignments } = this.baseMonster;\n    this.stats = statsRoll(stats, floor);\n    this.hp = this.stats.hp;\n    this.count = rollGausian(maxSpawn);\n    this.alive = this.count;\n    this.loot = this.stats.loot * this.count;\n    this.alignment = rollArray(alignments);\n    this.currentAction = shouldFight() ? \"fight\" : \"none\";\n  }\n\n  load(prevObj) {\n    this.stats = prevObj.stats;\n    this.count = prevObj.count;\n    this.alive = prevObj.alive;\n    this.loot = prevObj.loot;\n    this.alignment = prevObj.alignment;\n    this.hp = prevObj.hp;\n    this.currentAction = prevObj.currentAction;\n  }\n\n  act() {\n    console.info(`${this.baseMonster.name} acted!`);\n    // TODO choose fight/cast, and act\n  }\n\n  get actions() {\n    // TODO if monster is boss, can act multiple times\n    return [\n      {\n        actor: this,\n        execute: this.act.bind(this),\n      },\n    ];\n  }\n}\n\nclass BaseMonsterParty {\n  constructor() {}\n\n  get areDead() {\n    return !this.party.some(({ alive }) => alive);\n  }\n\n  behaviorSummary() {\n    const hostility = encounter.get(\"current.hostility\");\n    if (hostility > 0.2) return \"The monsters attack!\";\n    if (hostility > 0) return \"The monsters glare at you...\";\n    if (hostility < -0.8) return \"The monsters offer to join!\";\n    return \"The monsters look at you warily...\";\n  }\n\n  get actions() {\n    const hostility = encounter.get(\"current.hostility\");\n    const actions = [];\n    // TODO tiered hostility -> actions\n    if (hostility > 0.2) {\n      this.aliveMonsters.forEach((m) => {\n        actions.push(...m.actions);\n      });\n    }\n    return actions;\n  }\n\n  get statsSummary() {\n    return this.party.reduce((r, { stats }) => {\n      Object.keys(stats).forEach((k) => {\n        if (r[k] === undefined) r[k] = stats[k];\n        else r[k] += stats[k];\n      });\n      return r;\n    }, {});\n  }\n\n  get textSummary() {\n    const remainingMonsters = {};\n    let dead = 0;\n    this.party.forEach(({ name, count, alive }) => {\n      const deadCount = count - alive;\n      if (deadCount) {\n        dead += deadCount;\n      }\n      if (alive) {\n        if (!remainingMonsters[name]) remainingMonsters[name] = 0;\n        remainingMonsters[name] += alive;\n      }\n    });\n\n    const alive = objectReduce(remainingMonsters, (r, v) => (r += v), 0);\n    let summary = Object.keys(remainingMonsters)\n      .map((name) => {\n        const count = remainingMonsters[name];\n        return `${count} ${pluralize(name, count)}`;\n      })\n      .join(\", and \");\n    if (dead)\n      summary += `${summary ? \" and \" : \"\"}${dead} dead monster${\n        dead > 1 ? \"s\" : \"\"\n      }`;\n    const areIs = alive > 1 || dead > 1 ? \"are\" : \"is\";\n    return `There ${areIs} ${summary} in the room.`;\n  }\n\n  get aliveMonsters() {\n    return this.party.filter(({ alive }) => alive > 0);\n  }\n}\n\nexport class MonsterParty extends BaseMonsterParty {\n  constructor(partyId, floor) {\n    super();\n    const monsterIds = monsters.data.monsterParties[partyId];\n    if (!monsterIds) throw `monsterParties[${partyId}] not found`;\n    this.party = monsterIds.map((id) => {\n      const monster = new Monster(id);\n      monster.initialize(floor);\n      return monster;\n    });\n  }\n\n  initialize() {}\n}\n\nexport class OldMonsterParty extends BaseMonsterParty {\n  constructor(previousParty) {\n    super();\n    this.party = previousParty.party.map((data) => {\n      const monster = new Monster(data.name);\n      monster.load(data);\n      return monster;\n    });\n  }\n\n  initialize() {\n    // when loading, the\n  }\n}\n\nexport class Monsters extends GameModule {\n  fairSpawn = new FairRoll(\"monsters.fairSpawn\");\n\n  spawn({ roomId, floor }) {\n    const floorMonstersArr = map.data.floors[floor].monsters;\n    const floorMonsters = zip(\n      fill(Array(floorMonstersArr.length), 1),\n      floorMonstersArr\n    );\n\n    const roomMonsters = get(\n      map.data.floors[floor].rooms,\n      [roomId, \"monsterTable\"],\n      []\n    );\n    // const questMonsters = Party.characterQuests; // TODO feature/quests\n    return new MonsterParty(\n      // roll for which monster party to spawn\n      this.fairSpawn.roll([...floorMonsters, ...roomMonsters]),\n      // set difficulty based on floor\n      floor\n    );\n  }\n\n  respawn(previous) {\n    return new OldMonsterParty(previous);\n  }\n}\n\nexport const monsters = new Monsters();\n","import GameModule from \"./GameModule\";\n\nexport class Npcs extends GameModule {}\n\nexport const npcs = new Npcs();\n","import GameModule from \"./GameModule\";\nimport { map, characters } from \".\";\nimport { event } from \"@/game/events\";\nimport get from \"lodash/get\";\n\nexport class Party extends GameModule {\n  initialState = {\n    characters: [],\n    location: {\n      x: 0,\n      y: 0,\n      z: 0,\n    },\n    facing: 0,\n    selectedCharacter: 0,\n    party: [],\n  };\n\n  teleport(location) {\n    if (map.isOutOfBounds(location)) return;\n    this.data.location = { ...location };\n    this.update(\"location\");\n    // TODO - new decorator\n    // needs to emit(\"after:Party.move\");\n  }\n\n  @event\n  move() {\n    // get the party's location and direction facing\n    const { x, y, z } = this.data.location;\n    const { facing } = this.data;\n    // if the party is facing right or down, shift to that tile\n    const xD = facing === 1 ? 1 : 0;\n    const yD = facing === 2 ? 1 : 0;\n    // if the party is facing up or down, check the top tile, else left\n    const wallIndex = facing % 2 == 0 ? 0 : 1;\n    const path = [\"floors\", z, \"walls\", y + yD, x + xD, wallIndex];\n    const wallValue = get(map.data, path);\n\n    // is a wall in the way?\n    if (wallValue === 1) return;\n    const location = { ...this.data.location };\n    switch (facing) {\n      case 0:\n        location.y -= 1;\n        break;\n      case 1:\n        location.x += 1;\n        break;\n      case 2:\n        location.y += 1;\n        break;\n      case 3:\n        location.x -= 1;\n        break;\n    }\n    if (map.isOutOfBounds(location)) return;\n    this.data.location = location;\n    this.update(\"location\");\n  }\n\n  turn(delta) {\n    let newFace = this.data.facing + delta;\n    if (newFace < 0) {\n      this.data.facing = 4 + newFace;\n    } else if (newFace > 3) {\n      this.data.facing = newFace % 4;\n    } else {\n      this.data.facing = newFace;\n    }\n    this.update(\"facing\");\n  }\n\n  update(arg) {\n    super.update(arg);\n    super.update({ party: this.party });\n    this.save();\n  }\n\n  get party() {\n    return this.data.characters.map((charName) => characters.find(charName));\n  }\n\n  get statsSummary() {\n    return this.party.reduce((r, { stats }) => {\n      Object.keys(stats).forEach((k) => {\n        if (r[k] === undefined) r[k] = stats[k];\n        else r[k] += stats[k];\n      });\n      return r;\n    }, {});\n  }\n\n  get actions() {\n    const actions = [];\n    this.party.forEach((m) => {\n      actions.push(...m.actions);\n    });\n    return actions;\n  }\n}\n\nexport const party = new Party();\n","// prettier-ignore\nconst alignmentMatches = {\n  good: {\n    good: -1,      // good characters love other goods\n    neutral: 0.5,  // good characters dislike neutrals\n    evil: 1,       // good characters loathe evils\n  },\n  neutral: {\n    good: 0.25,    // neutral characters are annoyed by goods\n    neutral: -0.5, // neutral characters like other neutrals\n    evil: 0.25,    // neutral characters are annoyed by evils\n  },\n  evil: {\n    good: 0.5,     // evil characters dislike goods\n    neutral: 0,    // evil characters tolerate neutrals\n    evil: -0.5,    // evil characters like other evils\n  },\n};\n\n/**\n * @param  {Character} a A character\n * @param  {Character} b A second Character\n * @returns {number} number between -1 and 1 representing how hostile {a} feels towards {b}\n */\nexport function feelingsToward(a, b) {\n  // how does a feel about b?\n  const feels = alignmentMatches[a.alignment][b.alignment];\n  // adjust for intelligence vs charisma\n  const strength =\n    (b.stats.charisma || 1) / (a.stats.intelligence || 1) / 10 + 1;\n  return Math.max(-1, Math.min(1, Math.round(feels * strength * 100) / 100));\n}\n\n/**\n * @param  {[Character]} partyA An array of characters\n * @param  {[Character]} partyB A second array of characters\n * @returns {number} average of how characters in {partyA} feel about characters in {partyB}\n */\nexport function partyFeelsTowardParty(partyA, partyB) {\n  let feels = [];\n  for (const a of partyA) {\n    for (const b of partyB) {\n      feels.push(feelingsToward(a, b));\n    }\n  }\n  // return an average of all the party feels\n  const average = feels.reduce((r, i) => r + i) / feels.length;\n  return Math.round(average * 100) / 100;\n}\n\n/**\n * @param  {[Character]} party An array of characters\n * @returns {number} average of how each party member feels about the others.\n */\nexport function partyCohesion(party) {\n  let feels = [];\n  for (const a of party) {\n    for (const b of party) {\n      if (a === b) continue;\n      feels.push((-feelingsToward(a, b) + 1) / 2);\n    }\n  }\n  // return an average of all the party feels towards each other\n  const average = feels.reduce((r, i) => r + i) / feels.length;\n  return Math.round(average * 100) / 100;\n}\n","import { format, parse, differenceInMinutes as diff } from \"date-fns\";\nimport GameModule from \"./GameModule\";\nimport { event, listen, GameSingleton } from \"@/game/events\";\nimport { partyFeelsTowardParty } from \"@/utils/alignment\";\nimport { randomGausian, roll, rollArray } from \"@/utils/rng\";\nimport { getLSD, setLSD } from \"@/utils/localStorage\";\n\nimport { monsters, party, map } from \".\";\n\nconst dtf = \"yyyy-MM-dd:HH:mm:ss\";\n\nexport class ActiveEncounter extends GameSingleton {\n  log = [];\n  respawn = 15; // minutes\n\n  constructor(floor, roomId) {\n    super();\n    this.floor = floor;\n    this.roomId = roomId;\n    this.key = `${floor},${roomId}`;\n\n    if (!roomId) return;\n\n    const previous = encounter.previous[this.key];\n    const now = new Date();\n    if (previous && !previous.cleared) {\n      const minutesSinceSpawn = diff(now, parse(previous.spawned, dtf, now));\n      if (minutesSinceSpawn > this.respawn) this.spawn();\n      else this.reload(previous);\n    } else {\n      this.spawn();\n    }\n\n    this.start();\n  }\n\n  spawn() {\n    const { roomId, floor } = this;\n    this.monsters = monsters.spawn({ roomId, floor });\n    const feelings = partyFeelsTowardParty(this.monsters.party, party.party);\n    this.hostility = randomGausian() * feelings;\n    this.monsters.initialize();\n    this.log = []; // TODO monster flavor text\n    this.spawned = format(new Date(), dtf);\n    this.looted = false;\n    this.addLog = this.monsters.textSummary;\n  }\n\n  /**\n   * @param  {} previous = raw js object of previous encounter\n   */\n  reload(previous) {\n    const { monsters: prevMonsters, log, hostility, spawned } = previous;\n    this.monsters = monsters.respawn(prevMonsters);\n    this.hostility = hostility;\n    this.log = log;\n    this.spawned = spawned;\n    this.addLog = \"You walk back in the room\";\n  }\n\n  @event // ActiveEncounter.before.start ActiveEncounter.after.start\n  start() {\n    if (!this.looted) this.lootSummary();\n    if (!this.monsters.areDead) {\n      this.addLog = this.monsters.behaviorSummary(this.hostility);\n      this.bind(\"before:Party.move\", this.monstersAreBlocking);\n      this.bind(\"before:Encounter.tick\", this.monsterFlavorText);\n    }\n  }\n\n  @event // ActiveEncounter.before.end, ActiveEncounter.after.end\n  end() {\n    this.unbind();\n  }\n\n  lootSummary() {\n    if (this.looted) return;\n    if (this.monsters.totalLoot > 5000) {\n      this.addLog = \"There is a massive chest in the room!\";\n    } else if (this.monsters.totalLoot > 2000) {\n      this.addLog = \"There is a chest in the room!\";\n    } else if (this.monsters.totalLoot > 1000) {\n      this.addLog = \"There is a small chest in the room!\";\n    }\n  }\n\n  monstersAreBlocking() {\n    const { strength: monsterstrength = 0 } = this.monsters.statsSummary;\n    const { strength: partyStrength = 0 } = party.statsSummary;\n    if (this.hostility > 0.2 && monsterstrength > partyStrength) {\n      this.addLog = \"The monsters block you!\";\n      return false;\n    }\n  }\n\n  monsterFlavorText() {\n    // only do flavor text every 1/8 ticks\n    if (roll(8) > 1) return;\n    const randMonster = rollArray(this.monsters.party);\n    const flavorText = randMonster.baseMonster.flavorText || {};\n    let flavor = \"stares at you blankly.\";\n    if (this.hostility < -0.8) flavor = flavorText[\"-0.8\"];\n    if (this.hostility < 0) flavor = flavorText[\"0\"];\n    if (this.hostility < 0.2) flavor = flavorText[\"0.2\"];\n    if (this.hostility >= 0.2) flavor = flavorText[\"1\"];\n    this.addLog = `A ${randMonster.name} ${flavor}`;\n  }\n\n  set addLog(string) {\n    this.log.push(string);\n    encounter.update();\n  }\n\n  get toObj() {\n    return {\n      ...this,\n      monsters: {\n        party: this.monsters.party.map((monster) => ({ ...monster })),\n      },\n    };\n  }\n\n  get actions() {\n    return [...party.actions, ...this.monsters.actions];\n  }\n}\n\nexport class Encounter extends GameModule {\n  initialState = {\n    turnSpeed: 2000,\n    log: [],\n    currentEncounter: {},\n    actions: [],\n  };\n  current = null;\n  tickInterval = 0;\n  actionIntervals = [];\n  previousLSDKey = \"encounter.previous\";\n\n  constructor() {\n    super();\n    this.previous = getLSD(this.previousLSDKey) || {};\n  }\n\n  @listen([\"Game.loaded\", \"after:Party.move\"])\n  checkRoom() {\n    const { x, y, z } = party.data.location;\n    const roomId = map.data.floors[z].roomCoords[y][x];\n    if (this.current && this.current.roomId != roomId) {\n      this.unloadCurrentEncounter();\n    }\n    if (roomId && (!this.current || this.current.roomId != roomId)) {\n      this.loadEncounter(z, roomId);\n    } else {\n      this.update();\n    }\n    this.save();\n  }\n\n  update() {\n    if (this.current)\n      super.update({\n        currentEncounter: this.current.toObj,\n        log: this.current.log,\n      });\n    else\n      super.update({\n        currentEncounter: {},\n        log: [],\n      });\n  }\n\n  save() {\n    super.save();\n    setLSD(this.previousLSDKey, this.previous);\n  }\n\n  /**\n   * @param  {} floor - index to access Map.data.floors[floor]\n   * @param  {} roomId - id to access Map.data.floors[floor].rooms[roomId]\n   */\n  loadEncounter(floor, roomId) {\n    this.current = new ActiveEncounter(floor, roomId);\n    this.update();\n  }\n\n  unloadCurrentEncounter() {\n    const object = this.current.toObj;\n    this.current.end();\n    if (object.spawned) this.previous[object.key] = object;\n    this.current = null;\n    this.save();\n  }\n\n  @listen(\"after:ActiveEncounter.start\")\n  startTick() {\n    // delay first tick by 5ms to give time for update() to propagate\n    setTimeout(this.tick.bind(this), 5);\n    this.tickInterval = setInterval(this.tick.bind(this), this.data.turnSpeed);\n  }\n\n  @listen(\"after:ActiveEncounter.end\")\n  stopTick() {\n    clearInterval(this.tickInterval);\n    this.tickInterval = 0;\n    this.actionIntervals.forEach(clearInterval);\n    this.actionIntervals = [];\n  }\n\n  setSpeed(newSpeed) {\n    this.stopTick();\n    this.data.turnSpeed = newSpeed;\n    super.update({ turnSpeed: newSpeed });\n    this.startTick();\n  }\n\n  @event // Encounter.tick\n  tick() {\n    console.debug(\"tick\");\n    if (!this.current) return;\n    const actions = this.current.actions;\n    // TODO - sort actions by character speed\n    super.update({ actions });\n    const actionTime = Math.floor(this.data.turnSpeed / (actions.length + 1));\n    for (let i = 0; i < actions.length; i++) {\n      const { execute } = actions[i];\n      this.actionIntervals.push(setTimeout(execute, actionTime * (i + 1)));\n    }\n  }\n}\n\nexport const encounter = new Encounter();\n","<template>\n  <span class=\"Action\">\n    {{ emoji }}\n    <template v-if=\"regGroups.detail\">{{ regGroups.detail }}</template>\n  </span>\n</template>\n\n<script>\nexport default {\n  props: {\n    action: { type: String, required: true },\n  },\n  computed: {\n    regGroups() {\n      return this.action.match(/^(?<base>[^\\s]+)(:? '(?<detail>[^\\s]+)')?/i)\n        .groups;\n    },\n    emoji() {\n      switch (this.regGroups.base) {\n        case \"fight\":\n          return \"\";\n        case \"defend\":\n          return \"\";\n        case \"cast\":\n          return \"\";\n        default:\n          return \"?\";\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.Action {\n  padding: 0 2px;\n  display: inline-block;\n  white-space: nowrap;\n  color: #000;\n  background: rgba(255, 255, 255, 0.75);\n}\n</style>\n","import { render } from \"./Action.vue?vue&type=template&id=7f275397&scoped=true\"\nimport script from \"./Action.vue?vue&type=script&lang=js\"\nexport * from \"./Action.vue?vue&type=script&lang=js\"\n\nimport \"./Action.vue?vue&type=style&index=0&id=7f275397&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7f275397\"]])\n\nexport default __exports__","import { render } from \"./EncounterLoop.vue?vue&type=template&id=7d50cb12&scoped=true\"\nimport script from \"./EncounterLoop.vue?vue&type=script&lang=js\"\nexport * from \"./EncounterLoop.vue?vue&type=script&lang=js\"\n\nimport \"./EncounterLoop.vue?vue&type=style&index=0&id=7d50cb12&lang=scss&scoped=true\"\nimport \"./EncounterLoop.vue?vue&type=style&index=1&id=7d50cb12&lang=scss\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d50cb12\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"game-log\">\r\n    <h3>TODO -- game log here</h3>\r\n  </div>\r\n</template>\r\n","import { render } from \"./GameLog.vue?vue&type=template&id=8d677ae2\"\nconst script = {}\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"d-flex flex-column\">\n    <div class=\"key-row\">\n      <div class=\"w-33\">\n        <KeyButton shortcutKey=\"up\" @click=\"moveForward\">\n          <i-fa icon=\"arrow-up\" />\n        </KeyButton>\n      </div>\n    </div>\n    <div class=\"key-row\">\n      <div class=\"w-33\">\n        <KeyButton shortcutKey=\"left\" @click=\"turn(-1)\">\n          <i-fa icon=\"arrow-left\" />\n        </KeyButton>\n      </div>\n      <div class=\"w-33\">\n        <KeyButton shortcutKey=\"down\" @click=\"turn(+2)\">\n          <i-fa icon=\"arrow-down\" />\n        </KeyButton>\n      </div>\n      <div class=\"w-33\">\n        <KeyButton shortcutKey=\"right\" @click=\"turn(+1)\">\n          <i-fa icon=\"arrow-right\" />\n        </KeyButton>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { party } from \"@/game/modules\";\n\nexport default {\n  methods: {\n    moveForward() {\n      party.move();\n    },\n    turn(delta) {\n      party.turn(delta);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.key-row {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n","import { render } from \"./Controls.vue?vue&type=template&id=2ace3cd2&scoped=true\"\nimport script from \"./Controls.vue?vue&type=script&lang=js\"\nexport * from \"./Controls.vue?vue&type=script&lang=js\"\n\nimport \"./Controls.vue?vue&type=style&index=0&id=2ace3cd2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ace3cd2\"]])\n\nexport default __exports__","import Character from \"./Character\";\nimport Party from \"./Party\";\nimport Map from \"./Map\";\nimport MonsterParty from \"./MonsterParty\";\nimport EncounterFeed from \"./EncounterFeed\";\nimport EncounterLoop from \"./EncounterLoop\";\nimport GameLog from \"./GameLog\";\nimport Controls from \"./Controls\";\n\nexport default {\n  Character,\n  Party,\n  Map,\n  MonsterParty,\n  EncounterFeed,\n  EncounterLoop,\n  GameLog,\n  Controls,\n};\n","import { render } from \"./Game.vue?vue&type=template&id=431d64de&scoped=true\"\nimport script from \"./Game.vue?vue&type=script&lang=js\"\nexport * from \"./Game.vue?vue&type=script&lang=js\"\n\nimport \"./Game.vue?vue&type=style&index=0&id=431d64de&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-431d64de\"]])\n\nexport default __exports__","<template>\n  <div id=\"loading\">\n    <svg viewBox=\"0 0 100 300\">\n      <defs>\n        <clipPath id=\"clipStairs\" clipPathUnits=\"userSpaceOnUse\">\n          <rect x=\"0\" y=\"175\" width=\"100\" height=\"125\" />\n        </clipPath>\n        <radialGradient id=\"halo\">\n          <stop offset=\"0%\" stop-color=\"#cb8e5d\" />\n          <stop offset=\"80%\" stop-color=\"#000\" />\n        </radialGradient>\n      </defs>\n      <circle class=\"halo\" cx=\"70\" cy=\"70\" r=\"310\" fill=\"url(#halo)\" />\n      <!-- <circle cx=\"50\" cy=\"150\" r=\"200\" fill=\"#fff\" /> -->\n      <g class=\"flame\">\n        <g class=\"sparks\">\n          <circle class=\"spark_1\" fill=\"white\" cx=\"5\" cy=\"20\" r=\"1\" />\n          <circle class=\"spark_2\" fill=\"white\" cx=\"8\" cy=\"15\" r=\"1\" />\n          <circle class=\"spark_3\" fill=\"white\" cx=\"10\" cy=\"15\" r=\"1\" />\n          <circle class=\"spark_4\" fill=\"white\" cx=\"12\" cy=\"15\" r=\"1\" />\n          <circle class=\"spark_5\" fill=\"white\" cx=\"15\" cy=\"20\" r=\"1\" />\n        </g>\n        <path\n          class=\"outerFlame\"\n          width=\"16\"\n          height=\"22\"\n          x=\"50\"\n          y=\"30\"\n          d=\"M 6.32,4.41\n             C 7.84,1.57 8.59,0.15 9.77,0.14\n             10.95,0.12 11.74,1.52 13.32,4.32\n             13.32,4.32 18.36,13.23 18.36,13.23\n             18.40,13.30 18.42,13.33 18.44,13.38\n             18.47,13.43 18.48,13.45 18.50,13.50\n             18.94,14.51 21.47,20.81 18.44,25.18\n             15.13,29.94 4.61,30.32 1.55,25.18\n             -1.28,20.43 1.13,14.35 1.50,13.47\n             1.52,13.44 1.53,13.42 1.54,13.38\n             1.56,13.34 1.58,13.31 1.61,13.26\n             1.61,13.26 6.32,4.41 6.32,4.41 Z\"\n        />\n        <path\n          class=\"innerFlame\"\n          width=\"10\"\n          height=\"12\"\n          x=\"50\"\n          y=\"36\"\n          d=\"M 6.48,14.60\n             C 7.97,12.12 8.72,10.87 9.83,10.86\n             10.93,10.85 11.71,12.07 13.27,14.51\n             13.27,14.51 15.22,17.58 15.22,17.58\n             15.26,17.65 15.29,17.68 15.32,17.74\n             15.35,17.79 15.36,17.82 15.38,17.86\n             15.73,18.60 17.17,21.99 15.31,24.37\n             13.21,27.05 6.55,27.26 4.61,24.37\n             2.88,21.78 4.25,18.49 4.56,17.83\n             4.57,17.80 4.58,17.78 4.61,17.73\n             4.63,17.69 4.65,17.66 4.68,17.61\n             4.68,17.61 6.48,14.60 6.48,14.60 Z\"\n          fill=\"#333\"\n        />\n      </g>\n      <g clip-path=\"url(#clipStairs)\" x=\"0\" y=\"200\" width=\"100\" height=\"100\">\n        <g class=\"stairs\">\n          <rect fill=\"#000\" height=\"26\" width=\"25\" x=\"0\" y=\"200\" />\n          <rect fill=\"#000\" height=\"26\" width=\"50\" x=\"0\" y=\"225\" />\n          <rect fill=\"#000\" height=\"26\" width=\"75\" x=\"0\" y=\"250\" />\n          <rect fill=\"#000\" height=\"26\" width=\"100\" x=\"0\" y=\"275\" />\n          <rect fill=\"#000\" height=\"26\" width=\"125\" x=\"0\" y=\"300\" />\n        </g>\n      </g>\n      <g class=\"head-torso\">\n        <!-- head -->\n        <circle fill=\"black\" cx=\"40\" cy=\"120\" r=\"15\">\n          <animate\n            attributeName=\"cx\"\n            values=\"40;45;40\"\n            dur=\"2s\"\n            repeatCount=\"indefinite\"\n          />\n          <animate\n            attributeName=\"cy\"\n            values=\"120;125;120\"\n            dur=\"2s\"\n            repeatCount=\"indefinite\"\n          />\n        </circle>\n        <!-- torso -->\n        <line x1=\"40\" y1=\"134\" x2=\"35\" y2=\"185\">\n          <animate\n            attributeName=\"x1\"\n            values=\"40;45;40\"\n            dur=\"2s\"\n            repeatCount=\"indefinite\"\n          />\n          <animate\n            attributeName=\"y1\"\n            values=\"134;139;134\"\n            dur=\"2s\"\n            repeatCount=\"indefinite\"\n          />\n          <animate\n            attributeName=\"x2\"\n            values=\"35;45;35\"\n            dur=\"2s\"\n            repeatCount=\"indefinite\"\n          />\n          <animate\n            attributeName=\"y2\"\n            values=\"185;190;185\"\n            dur=\"2s\"\n            repeatCount=\"indefinite\"\n          />\n        </line>\n        <g class=\"leg\">\n          <line x1=\"70\" y1=\"175\" x2=\"35\" y2=\"185\">\n            <animate\n              attributeName=\"x1\"\n              values=\"70;80;70\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"y1\"\n              values=\"175;205;175\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"x2\"\n              values=\"35;45;35\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"y2\"\n              values=\"185;190;185\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n          </line>\n          <line x1=\"70\" y1=\"175\" x2=\"50\" y2=\"225\">\n            <animate\n              attributeName=\"x1\"\n              values=\"70;80;70\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"y1\"\n              values=\"175;205;175\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"x2\"\n              values=\"50;75;50\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"y2\"\n              values=\"225;250;225\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n          </line>\n        </g>\n        <g class=\"leg\">\n          <line x1=\"65\" y1=\"210\" x2=\"35\" y2=\"185\">\n            <animate\n              attributeName=\"x1\"\n              values=\"65;80;65\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"y1\"\n              values=\"210;195;210\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"x2\"\n              values=\"35;45;35\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"y2\"\n              values=\"185;190;185\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n          </line>\n          <line x1=\"65\" y1=\"210\" x2=\"75\" y2=\"250\">\n            <animate\n              attributeName=\"x1\"\n              values=\"65;80;65\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"y1\"\n              values=\"210;195;210\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"x2\"\n              values=\"75;50;75\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"y2\"\n              values=\"250;225;250\"\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n          </line>\n        </g>\n      </g>\n    </svg>\n    <h1 class=\"ms-4\">LOADING...</h1>\n  </div>\n</template>\n\n<style lang=\"scss\">\n#loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  height: 100vh;\n  background: #000;\n\n  svg {\n    width: 100px;\n    height: 300px;\n  }\n\n  @keyframes halo-shrink {\n    from {\n      r: 310;\n    }\n    to {\n      r: 130;\n    }\n  }\n\n  .halo {\n    animation: halo-shrink 10s ease-out 1s 1 forwards;\n  }\n\n  @keyframes stairs-slide {\n    from {\n      transform: translate(0px, 0px);\n    }\n    to {\n      transform: translate(-25px, -25px);\n    }\n  }\n\n  .stairs {\n    animation: stairs-slide 1s linear 0.2s infinite;\n  }\n\n  @keyframes flame-fade {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0.3;\n    }\n  }\n\n  @keyframes flame-dance {\n    from {\n      transform: rotate(5deg) scale(1);\n    }\n    to {\n      transform: rotate(-5deg) scale(1.1);\n    }\n  }\n\n  @keyframes red-flame-pulse {\n    from {\n      fill: #e64601;\n    }\n    to {\n      fill: #f57f4c;\n    }\n  }\n\n  @keyframes white-flame-pulse {\n    from {\n      fill: #ffd185;\n    }\n    to {\n      fill: #fff;\n    }\n  }\n\n  .flame {\n    transform: translate(60px, 50px);\n    width: 20px;\n    height: 29px;\n    animation: flame-fade 10s ease-out 1s forwards;\n  }\n  .outerFlame,\n  .innerFlame {\n    animation-timing-function: ease-in-out;\n    animation-iteration-count: infinite;\n    transform-origin: 10px 20px;\n  }\n\n  .outerFlame {\n    animation-name: flame-dance, red-flame-pulse;\n    animation-duration: 0.7s, 1.5s;\n    animation-direction: alternate;\n  }\n\n  .innerFlame {\n    animation-name: flame-dance, white-flame-pulse;\n    animation-duration: 0.3s, 1s;\n    animation-direction: alternate-reverse;\n  }\n\n  @keyframes spark-rise {\n    9%,\n    16% {\n      transform: translate(0, 0);\n      opacity: 0;\n    }\n    10% {\n      transform: translate(0, 0);\n      opacity: 1;\n    }\n    11% {\n      transform: translate(-3px, -15px);\n      opacity: 0.9;\n    }\n    12% {\n      transform: translate(3px, -25px);\n      opacity: 0.8;\n    }\n    13% {\n      transform: translate(-2px, -33px);\n      opacity: 0.7;\n    }\n    14% {\n      transform: translate(1px, -42px);\n      opacity: 0.4;\n    }\n    15% {\n      transform: translate(0px, -50px);\n      opacity: 0.1;\n    }\n  }\n\n  .sparks > * {\n    animation-name: spark-rise, spark-fade;\n    animation-duration: 15s;\n    animation-timing-function: ease-out;\n    animation-iteration-count: infinite;\n  }\n  .spark_1 {\n    animation-delay: 1s;\n  }\n  .spark_2 {\n    animation-delay: 4s;\n  }\n  .spark_3 {\n    animation-delay: 7s;\n  }\n  .spark_4 {\n    animation-delay: 10s;\n  }\n  .spark_5 {\n    animation-delay: 13s;\n  }\n\n  .head-torso {\n    line {\n      stroke: black;\n      stroke-width: 2px;\n    }\n  }\n}\n</style>\n","import { render } from \"./LoadingAnimation.vue?vue&type=template&id=6c4db074\"\nconst script = {}\n\nimport \"./LoadingAnimation.vue?vue&type=style&index=0&id=6c4db074&lang=scss\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Main.vue?vue&type=template&id=0a1107f0\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=0a1107f0&lang=scss\"\nimport \"@/styles/main.scss?vue&type=style&index=1&lang=scss\"\nimport \"./Main.vue?vue&type=style&index=2&id=0a1107f0&lang=scss\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export const properties = {\n  namespaced: true,\n};\n\nexport const mutations = {\n  setState(state, newState) {\n    Object.keys(newState).forEach((key) => {\n      if (typeof newState[key] === \"object\") {\n        state[key] = { ...newState[key] };\n      } else {\n        state[key] = newState[key];\n      }\n    });\n  },\n};\n","import { map } from \"@/game/modules\";\nimport { properties, mutations } from \"./baseModule\";\n\nexport default {\n  ...properties,\n  mutations,\n\n  state() {\n    return map.initialState;\n  },\n  actions: map.vuexActions,\n};\n","import { party } from \"@/game/modules\";\nimport { properties, mutations } from \"./baseModule\";\n\nexport default {\n  ...properties,\n  mutations,\n\n  state() {\n    return party.initialState;\n  },\n  actions: party.vuexActions,\n\n  getters: {\n    selectedCharacter(state) {\n      return state.characters[state.selectedCharacter || 0];\n    },\n  },\n};\n","import { encounter } from \"@/game/modules\";\nimport { properties, mutations } from \"./baseModule\";\n\nexport default {\n  ...properties,\n  mutations,\n\n  state() {\n    return encounter.initialState;\n  },\n  actions: encounter.vuexActions,\n};\n","import map from \"./map\";\nimport party from \"./party\";\nimport encounter from \"./encounter\";\n\nexport default {\n  map,\n  party,\n  encounter,\n};\n","import Vuex from \"vuex\";\r\nimport modules from \"./modules\";\r\n\r\nconst store = new Vuex.Store({\r\n  state: () => ({\r\n    loading: true,\r\n    isDevEnv: process.env.NODE_ENV === \"development\",\r\n  }),\r\n  mutations: {\r\n    setLoading(state, loading = false) {\r\n      state.loading = loading;\r\n    },\r\n  },\r\n  modules,\r\n});\r\n\r\nimport game from \"@/game\";\r\nimport * as gameModules from \"@/game/modules\";\r\n\r\nconst loadDataPromises = Object.keys(gameModules).map((key) => {\r\n  const module = gameModules[key];\r\n  game.addModule(module);\r\n  return module.loadData();\r\n});\r\n\r\n// once all modules have loaded data, initialize them in order\r\nPromise.all(loadDataPromises).then(() => {\r\n  Object.keys(modules).forEach((key) => {\r\n    store.dispatch(`${key}/initialize`);\r\n  });\r\n\r\n  game.initialize();\r\n  store.commit(\"setLoading\");\r\n});\r\n\r\nexport default store;\r\n","import { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faArrowUp,\n  faArrowLeft,\n  faArrowRight,\n  faArrowDown,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faArrowUp, faArrowLeft, faArrowRight, faArrowDown);\n","<template>\n  <span @click=\"hit\"><slot /></span>\n  <span class=\"keypress\" :data-on=\"on\" :class=\"{ show: show }\"></span>\n</template>\n\n<script>\nimport keymage from \"keymage\";\n\nexport default {\n  props: { on: String },\n  emits: [\"hit\"],\n  data: () => ({\n    show: false,\n  }),\n  methods: {\n    toggle() {\n      this.show = !this.show;\n    },\n    hide() {\n      this.show = false;\n    },\n    hit(e) {\n      this.$emit(\"hit\", e);\n    },\n  },\n  mounted() {\n    keymage(this.on, this.hit);\n    keymage(\"shift-/\", this.toggle);\n    keymage(\"esc\", this.hide);\n  },\n  beforeUnmount() {\n    keymage.unbind(this.on, this.hit);\n    keymage.unbind(\"shift-/\", this.toggle);\n    keymage.unbind(\"esc\", this.hide);\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.keypress {\n  position: relative;\n  z-index: 999;\n\n  &:before {\n    background: #fff;\n    color: #55a;\n    display: inline-block;\n    padding: 2px;\n    border: 1px solid #55a;\n    border-radius: 2px;\n    font-size: 12px;\n    line-height: 0.8;\n    content: attr(data-on);\n    position: absolute;\n    display: none;\n    white-space: nowrap;\n    box-shadow: 0 1px 0px 1px rgba(255, 255, 255, 0.5);\n  }\n\n  &.show:before {\n    display: inline-block;\n  }\n}\n</style>\n","import { render } from \"./KeyPress.vue?vue&type=template&id=ee607d64\"\nimport script from \"./KeyPress.vue?vue&type=script&lang=js\"\nexport * from \"./KeyPress.vue?vue&type=script&lang=js\"\n\nimport \"./KeyPress.vue?vue&type=style&index=0&id=ee607d64&lang=scss\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <KeyPress :on=\"shortcutKey\" @hit=\"$emit('click')\">\n    <button :title=\"tooltip\">\n      <slot />\n    </button>\n  </KeyPress>\n</template>\n\n<script>\nexport default {\n  props: [\"shortcutKey\", \"tooltip\"],\n  emits: [\"click\"],\n};\n</script>\n","import { render } from \"./KeyButton.vue?vue&type=template&id=98f0d88c\"\nimport script from \"./KeyButton.vue?vue&type=script&lang=js\"\nexport * from \"./KeyButton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/marty/Documents/personal/dcg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\nimport Game from \"./Game\";\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Game\",\n    component: Game,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","import { createApp } from \"vue\";\n\nimport Main from \"./Main\";\nimport store from \"./store\";\nimport { mixin as eventMixin } from \"@/game/events\";\n\nimport \"./utils/icons\";\n\nconst app = createApp(Main);\n\napp.component(\"admin-nav\", { template: `<span></span>` });\n\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport KeyPress from \"@/components/interaction/KeyPress\";\nimport KeyButton from \"@/components/interaction/KeyButton\";\napp.component(\"i-fa\", FontAwesomeIcon);\napp.component(\"KeyPress\", KeyPress);\napp.component(\"KeyButton\", KeyButton);\napp.mixin(eventMixin);\n\napp.use(store);\nimport router from \"./router\";\napp.use(router);\napp.mount(\"#app\");\n\nwindow.app = app;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./KeyPress.vue?vue&type=style&index=0&id=ee607d64&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Controls.vue?vue&type=style&index=0&id=2ace3cd2&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Game.vue?vue&type=style&index=0&id=431d64de&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MonsterParty.vue?vue&type=style&index=0&id=9cd1eefa&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Action.vue?vue&type=style&index=0&id=7f275397&scoped=true&lang=css\""],"sourceRoot":""}